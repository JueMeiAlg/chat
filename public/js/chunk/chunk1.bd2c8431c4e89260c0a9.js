(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{101:function(t,e,n){"use strict";var a=n(32);n.n(a).a},102:function(t,e,n){(t.exports=n(19)(!1)).push([t.i,"\n.Panel-main[data-v-10a2cb03] {\n    height: 600px;\n    background: #f9f9f9;\n}\n.head[data-v-10a2cb03] {\n    background: #d6d6d6;\n    height: 100px;\n    padding: 15px;\n}\n.Signature[data-v-10a2cb03] {\n    margin-top: 10px;\n    margin-bottom: 25px;\n}\n.friendIcon[data-v-10a2cb03] {\n    font-size: 25px;\n}\n.friendList[data-v-10a2cb03] {\n    background: #f9f9f9;\n    height: 400px;\n    padding: 15px;\n    /*overflow: hidden;*/\n    overflow-x: hidden;\n    overflow-y: scroll;\n}\n.friendList[data-v-10a2cb03]::-webkit-scrollbar {\n    display: none;\n}\n.friendButton .el-col-8[data-v-10a2cb03] {\n    padding-bottom: 5px;\n    text-align: center;\n}\n.friendList[data-v-10a2cb03] .el-tree-node__content {\n    height: auto !important;\n    padding-left: 0 !important;\n}\n.friendButton .el-col-8[data-v-10a2cb03]:hover {\n    border-bottom: 3px solid #6cdb9e;\n}\n.userSignature[data-v-10a2cb03] {\n    color: #b7b7b7;\n}\n.username[data-v-10a2cb03] {\n    font-size: 18px;\n}\n.column[data-v-10a2cb03] {\n    padding: 10px 0 10px 0;\n    /*overflow: hidden;*/\n    /*height: 20px;*/\n}\n.columnHover[data-v-10a2cb03]:hover {\n    background: #eeeeee;\n}\n.corners[data-v-10a2cb03] {\n    color: #6fa7d6;\n}\n.list[data-v-10a2cb03] {\n    margin-top: 15px;\n    padding-left: 10px;\n}\n.userInfo[data-v-10a2cb03] {\n    clear: both;\n    height: 55px;\n    padding: 5px;\n}\n.userInfo[data-v-10a2cb03]:hover {\n    /*border: 1px solid #1b1e21;*/\n    background: #f2f2f2;\n}\n.tool[data-v-10a2cb03] {\n    border-top: 1px solid #eee;\n    font-size: 25px;\n    text-align: center;\n}\n.tool .el-col-6[data-v-10a2cb03]:hover {\n    background: #d5d5d5;\n}\n.contextMenu[data-v-10a2cb03] {\n    z-index: 2;\n    position: absolute; /*自定义菜单相对与body元素进行定位*/\n    width: 180px;\n    /*height: 130px;*/\n    background: #d5d5d5;\n}\n.contextMenu-item[data-v-10a2cb03] {\n    padding: 5px;\n    border: 1px solid #e0e5ea;\n}\n.contextMenu-item[data-v-10a2cb03]:hover {\n    background: #f5f5f5;\n}\n.hidden[data-v-10a2cb03] {\n    display: none;\n}\n.friend-list-off-line[data-v-10a2cb03] {\n    -webkit-filter: grayscale(1);\n            filter: grayscale(1);\n    opacity: 0.8;\n}\ntr td[data-v-10a2cb03]:nth-child(2) {\n    padding-left: 10px;\n}\n.search-main[data-v-10a2cb03] {\n    margin-bottom: 100px;\n    margin-top: 50px;\n    height: 200px;\n    background: #d6d6d6;\n}\n.search[data-v-10a2cb03] {\n    margin: 0 auto;\n    position: relative;\n    top: 50%;\n    transform: translateY(-50%);\n}\n.backSearch[data-v-10a2cb03] {\n    font-size: 18px;\n    height: 30px;\n    width: 30px;\n}\n.backSearch[data-v-10a2cb03]:hover {\n    background: #eeeeee;\n}\n.searchResult-list[data-v-10a2cb03] {\n    margin-top: 20px;\n    height: 300px;\n}\n.searchResult-list > li[data-v-10a2cb03] {\n    height: 100px;\n    width: 210px;\n    float: left;\n    margin-right: 30px;\n}\n.searchResult-list p[data-v-10a2cb03] {\n    width: 130px;\n    overflow: hidden;\n}\n.searchResult-p-nowrap[data-v-10a2cb03] {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n.searchPhoneNextPage[data-v-10a2cb03] {\n    position: relative;\n    text-align: center;\n    right: 7%;\n    font-size: 20px;\n}\n",""])},103:function(t,e,n){"use strict";var a=n(33);n.n(a).a},104:function(t,e,n){(t.exports=n(19)(!1)).push([t.i,"\n.chat-window[data-v-0bebef50] {\n    height: 600px;\n    margin-right: 50px;\n}\n.chat-list[data-v-0bebef50] {\n    background: #d9d9d9;\n    height: 580px !important;\n    padding: 10px;\n}\n.user-name-main[data-v-0bebef50] {\n    padding-top: 15px;\n    color: #404040;\n}\n.userInfo[data-v-0bebef50] {\n    background: #ececec;\n    padding: 10px;\n}\n.userStatus[data-v-0bebef50] {\n    padding-top: 5px;\n}\n.username[data-v-0bebef50] {\n    font-size: 18px;\n}\n.status[data-v-0bebef50] {\n    font-size: 14px;\n    color: #a6a6a6;\n}\n.minus[data-v-0bebef50] {\n    margin-right: 5px\n}\n.close[data-v-0bebef50] {\n}\n.talk[data-v-0bebef50] {\n    height: 340px;\n    background: #fbfbfb;\n    overflow-x: hidden;\n    overflow-y: scroll;\n}\n.talk[data-v-0bebef50]::-webkit-scrollbar {\n    display: none;\n}\n.tool[data-v-0bebef50] {\n    padding-top: 4px;\n    height: 40px;\n    background: #fbfbfb;\n}\n.message-main[data-v-0bebef50] {\n    background: #fbfbfb;\n}\n.message[data-v-0bebef50] {\n    height: 100px;\n}\n.chat-friend-item[data-v-0bebef50]:hover {\n    background: #f5f5f5;\n}\n.send-button[data-v-0bebef50] {\n    background: #5fb878;\n    color: #ecf7f0;\n    width: 100px;\n    margin-bottom: 10px;\n}\n.close-button[data-v-0bebef50] {\n    background: #5fb878;\n    color: #ecf7f0;\n    margin-bottom: 10px;\n}\n.nameTime[data-v-0bebef50] {\n    margin-bottom: 5px;\n}\n.friendTalk-main[data-v-0bebef50] {\n    float: left;\n    padding: 5px 5px 5px 20px;\n    text-align: left;\n    width: 100%;\n}\n.friendTalk[data-v-0bebef50] {\n    padding: 5px;\n    background: #e2e2e2;\n    width: 50%;\n    float: left;\n}\n.myTalk-main[data-v-0bebef50] {\n    float: right;\n    padding: 5px 20px 5px 5px;\n    text-align: left;\n    width: 100%\n}\n.myTalk[data-v-0bebef50] {\n    background: #5fb878;\n    padding: 5px;\n    color: #fff;\n    width: 50%;\n    float: right;\n}\n.close-friend-chat[data-v-0bebef50] {\n    display: none;\n    font-size: 12px;\n}\n.close-friend-chat[data-v-0bebef50]:hover {\n    background: #d5d5d5;\n}\n.chat-friend-item:hover .close-friend-chat[data-v-0bebef50] {\n    display: block;\n}\n.friend-list-off-line[data-v-0bebef50] {\n    -webkit-filter: grayscale(1);\n            filter: grayscale(1);\n    opacity: 0.8;\n}\n",""])},105:function(t,e,n){"use strict";var a=n(34);n.n(a).a},106:function(t,e,n){(t.exports=n(19)(!1)).push([t.i,"\n.main[data-v-5919f2b7] {\n    background: #17443e;\n    height: 100%;\n    width: 100%;\n}\n.chat-main[data-v-5919f2b7] {\n    width: 85%;\n    margin: 0 auto;\n    padding: 50px;\n}\n",""])},197:function(t,e,n){"use strict";n.r(e);var a=n(3),s=n(17),i=n(16);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={name:"friendPanel",data:function(){return{sendAddFriendMsgDialog:!1,RefuseFriendAuthDialog:!1,columnFriend:[],systemMenu:[],searchFriendPhone:"",verfMSG:"我是...",searchUserResult:[],newColumnBox:!1,editColumnBox:!1,friendInfoBox:!1,addFriend:!1,search:!0,searchResult:!1,newColumnName:"",currentHandelColumnId:0,currentHandelColumnObj:"",currentHandelColumnIndex:"",searchPhoneUp:!0,searchPhoneNext:!1,friendAuthUp:!0,friendAuthNext:!1,currentHandelUserId:0,currentHandelUserObj:"",currentHandelUserIndex:"",searchUserTotal:0,searchPhonePage:0,searchPhoneLimit:6,friendAuthList:[],friendAuthPage:0,reason:""}},created:function(){var t=this;window.onclick=function(t){window.document.querySelector("#systemMenu").style.display="none",window.document.querySelector("#columnMenu").style.display="none",window.document.querySelector("#userMenu").style.display="none"},this.getColumnFriend(),this.friendAuthNum(),Object(a.d)(++this.friendAuthPage,4).then(function(e){t.friendAuthList=e.data.data})},mounted:function(){s.a.sendBindFd()},methods:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},Object(i.b)(["friendAuthNum"]),{openList:function(t){"#icon-sanjiao"===this.getIdDom("sj"+t).getAttribute("xlink:href")?(this.getIdDom("friendColumn"+t).style.display="none",this.getIdDom("sj"+t).setAttribute("xlink:href","#icon-yousanjiaoxing"),this.getClassDomAll("column").forEach(function(t){t.className="column columnHover"})):(this.getIdDom("sj"+t).setAttribute("xlink:href","#icon-sanjiao"),this.getIdDom("friendColumn"+t).style.display="",this.getClassDomAll("columnHover").forEach(function(t){t.className="column"}))},getColumnFriend:function(){var t=this;Object(a.a)().then(function(e){t.$store.commit("setColumnFriend",e.data.data)})},closeMenu:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";"all"===t?(this.getIdDom("systemMenu").style.display="none",this.getIdDom("columnMenu").style.display="none",this.getIdDom("userMenu").style.display="none"):this.getIdDom(t).style.display="none"},openMenu:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=arguments.length>1?arguments[1]:void 0;if("all"===t)this.getIdDom("systemMenu").style.display="",this.getIdDom("columnMenu").style.display="";else{var n=this.getIdDom(t);n.style.left=e.layerX+"px",n.style.top=e.clientY+"px",n.style.display="",e.stopPropagation()}},openSystemMenu:function(t){this.closeMenu(),this.openMenu("systemMenu",t)},openColumnMenu:function(t,e,n,a){this.currentHandelColumnId=e,this.currentHandelColumnObj=n,this.currentHandelColumnIndex=a,this.closeMenu(),this.openMenu("columnMenu",t)},openUserMenu:function(t,e,n,a){this.currentHandelUserId=e,this.currentHandelUserObj=n,this.currentHandelUserIndex=a,this.closeMenu(),this.openMenu("userMenu",t)},feedBack:function(){this.$message.info("暂未开放")},addColumnBoxOpen:function(){this.newColumnBox=!0},addColumn:function(){var t=this;""!=this.newColumnName?Object(a.g)({name:this.newColumnName}).then(function(e){t.$store.state.friend.columnFriend.push({name:t.newColumnName,friend:[],id:e.data.data.id}),t.newColumnName="",t.newColumnBox=!1}):this.$message.warning("新分栏的名字不应该为空")},getClassDom:function(t){return window.document.querySelector("."+t)},getClassDomAll:function(t){return window.document.querySelectorAll("."+t)},getIdDom:function(t){return window.document.querySelector("#"+t)},destroyColumnInfo:function(){var t=this;console.log(this.$store.state),Object(a.b)(this.currentHandelColumnId).then(function(e){t.$store.state.friend.columnFriend.splice(t.currentHandelColumnIndex,1),t.currentHandelColumnId=0,t.getColumnFriend(),t.$message.success(e.data.msg)})},editColumn:function(){this.newColumnName=this.currentHandelColumnObj.name,this.editColumnBox=!0},updateColumnInfo:function(){var t=this;Object(a.j)(this.currentHandelColumnId,{name:this.newColumnName}).then(function(e){t.$store.state.friend.columnFriend.forEach(function(e){e.id==t.currentHandelColumnId&&(e.name=t.newColumnName)}),t.currentHandelColumnId=0,t.newColumnName="",t.editColumnBox=!1,t.$message.success(e.data.msg)})},openColumn:function(){this.openList(this.currentHandelColumnIndex)},sendMsg:function(){this.$store.commit("setFriendList",this.currentHandelUserObj)},deleteFriend:function(){var t=this;this.$confirm("是否确定删除:"+this.currentHandelUserObj.name+",这个好友?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(a.c)(t.currentHandelUserId).then(function(e){t.$store.state.friend.columnFriend.forEach(function(e,n){e.friend.forEach(function(e,a){e.id==t.currentHandelUserId&&t.$store.state.friend.columnFriend[n].friend.splice(t.currentHandelUserIndex,1)})}),t.$message.success(e.data.msg)})}).catch(function(){})},showUserInfo:function(){this.userIdMappingColumn(this.currentHandelUserId),this.friendInfoBox=!0},userIdMappingColumn:function(t){for(var e=0;e<this.$store.state.friend.columnFriend.length;e++)for(var n=0;n<this.$store.state.friend.columnFriend[e].friend.length;n++)if(this.$store.state.friend.columnFriend[e].friend[n].id==this.currentHandelUserId)return this.currentHandelColumnObj=this.$store.state.friend.columnFriend[e],this.currentHandelColumnObj},openAddFriendDialog:function(){this.addFriend=!0},closeAddFriendDialog:function(){this.addFriend=!1,this.search=!0,this.searchResult=!1,this.searchFriendPhone=""},phoneCheck:function(t){return!!/^[1][3,4,5,7,8][0-9]{9}$/.test(t)},searchPhone:function(t){var e=this;this.searchPhonePage=t,this.searchPhonePage<=0&&(this.searchPhonePage=1),1==this.searchPhonePage?this.searchPhoneUp=!0:this.searchPhoneUp=!1,Object(a.f)({phone:this.searchFriendPhone},t,this.searchPhoneLimit).then(function(t){e.search=!1,e.searchResult=!0,e.searchUserResult=t.data.data.users,e.searchUserTotal=t.data.data.total;var n=Math.ceil(e.searchUserTotal/e.searchPhoneLimit);e.searchPhonePage>=n?e.searchPhoneNext=!0:e.searchPhoneNext=!1})},backSearch:function(){this.search=!0,this.searchResult=!1},openSendVerfMsgDialog:function(t){this.currentHandelUserObj=t,this.sendAddFriendMsgDialog=!0},isExistFriend:function(t){for(var e=0;e<this.$store.state.friend.columnFriend.length;e++)for(var n=0;n<this.$store.state.friend.columnFriend[e].friend.length;n++)if(this.$store.state.friend.columnFriend[e].friend[n].id==t)return!0;return!1},sendAddFriend:function(t){var e=this;this.isExistFriend(t)?this.$message.error("该好友已存在您的好友列表中无法继续添加"):Object(a.i)({friend_id:t,msg:this.verfMSG}).then(function(t){e.$message.success(t.data.msg),e.sendAddFriendMsgDialog=!1})},getFriendAuth:function(t){var e=this;this.friendAuthPage=t,this.friendAuthPage<=0&&(this.friendAuthPage=1),1==this.friendAuthPage?this.friendAuthUp=!0:this.friendAuthUp=!1,Object(a.d)(this.friendAuthPage,4).then(function(t){e.friendAuthList=t.data.data;var n=Math.ceil(t.data.total/4);e.friendAuthPage>=n?e.friendAuthNext=!0:e.friendAuthNext=!1})},handelFriendAuth:function(t){var e=this;this.currentHandelUserId=t,Object(a.h)({friend_id:t,status:1,reason:this.reason}).then(function(n){e.changeFriendAuthButtonStatus(t,1),e.$message.success(n.data.msg)})},openRefuseFriendAuthDialog:function(t){this.RefuseFriendAuthDialog=!0,this.currentHandelUserId=t},changeFriendAuthButtonStatus:function(t,e){var n=this;this.friendAuthList.forEach(function(t){t.friend_id==n.currentHandelUserId&&(t.status=e)})},refuseFriendAuth:function(){var t=this;Object(a.h)({friend_id:this.currentHandelUserId,status:2,reason:this.reason}).then(function(e){t.$message.success(e.data.msg),t.RefuseFriendAuthDialog=!1,t.reason="",t.changeFriendAuthButtonStatus(t.currentHandelUserId,2),t.$store.commit("setFriendNotifyNum",--t.$store.state.friendPanelTool.friendNotifyNum)})}})},c=(n(101),n(7)),d=Object(c.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Panel-main"},[n("div",[n("el-row",[n("div",{staticClass:"head"},[n("el-col",{attrs:{span:24}},[n("el-row",[n("el-col",{attrs:{span:8}},[t._v("\n                            "+t._s(t.$store.state.user.userName)+"\n                        ")])],1)],1),t._v(" "),n("el-col",{attrs:{span:24}},[n("div",{staticClass:"Signature"},[t._v("\n                        "+t._s(t.$store.state.user.signature)+"\n                    ")])]),t._v(" "),n("div",{staticClass:"friendButton"},[n("el-col",{attrs:{span:8}},[n("svg",{staticClass:"icon friendIcon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-ren"}})])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("svg",{staticClass:"icon friendIcon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-users"}})])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("svg",{staticClass:"icon friendIcon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-xinxi"}})])])],1)],1),t._v(" "),n("el-col",{attrs:{span:24}},[n("div",{staticClass:"friendList",on:{contextmenu:function(e){return e.preventDefault(),t.openSystemMenu(e)}}},[n("div",{staticClass:"contextMenu",staticStyle:{display:"none"},attrs:{id:"systemMenu"}},[n("div",{staticClass:"contextMenu-item",on:{click:t.addColumnBoxOpen}},[t._v("\n                            添加新分栏\n                        ")]),t._v(" "),n("div",{staticClass:"contextMenu-item",on:{click:t.feedBack}},[t._v("\n                            系统反馈\n                        ")]),t._v(" "),n("div",{staticClass:"contextMenu-item"},[n("a",{attrs:{href:"https://github.com/JueMeiAlg/chat",target:"_blank"}},[t._v("gitHub点个星")])])]),t._v(" "),n("div",{staticClass:"contextMenu",staticStyle:{display:"none"},attrs:{id:"columnMenu"}},[n("div",{staticClass:"contextMenu-item",on:{click:t.destroyColumnInfo}},[t._v("\n                            删除分栏\n                        ")]),t._v(" "),n("div",{staticClass:"contextMenu-item",on:{click:t.editColumn}},[t._v("\n                            重命名\n                        ")]),t._v(" "),n("div",{staticClass:"contextMenu-item",on:{click:t.openColumn}},[t._v("\n                            展开或收起\n                        ")])]),t._v(" "),n("div",{staticClass:"contextMenu",staticStyle:{display:"none"},attrs:{id:"userMenu"}},[n("div",{staticClass:"contextMenu-item",on:{click:t.sendMsg}},[t._v("\n                            发送消息\n                        ")]),t._v(" "),n("div",{staticClass:"contextMenu-item",on:{click:t.deleteFriend}},[t._v("\n                            删除好友\n                        ")]),t._v(" "),n("div",{staticClass:"contextMenu-item",on:{click:t.showUserInfo}},[t._v("\n                            查看信息\n                        ")])]),t._v(" "),n("ul",t._l(t.$store.state.friend.columnFriend,function(e,a){return n("li",{staticClass:"column columnHover",on:{contextmenu:function(n){return n.preventDefault(),t.openColumnMenu(n,e.id,e,a)}}},[n("span",{on:{click:function(e){return t.openList(a)}}},[n("svg",{staticClass:"icon corners",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{id:"sj"+a,"xlink:href":"#icon-yousanjiaoxing"}})])]),t._v("\n                            "+t._s(e.name)+"\n                            "),n("ul",{staticClass:"list",staticStyle:{display:"none"},attrs:{id:"friendColumn"+a}},t._l(e.friend,function(e,a){return n("li",{on:{contextmenu:function(n){return n.preventDefault(),t.openUserMenu(n,e.id,e,a)}}},[n("div",{staticClass:"userInfo"},[n("el-avatar",{class:e.fd?"fl":"fl friend-list-off-line",attrs:{size:50,src:e.avatar}}),t._v(" "),n("div",{staticClass:"fl",staticStyle:{"margin-left":"10px"}},[n("div",{staticClass:"username"},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"userSignature"},[t._v(t._s(e.signature))])])],1)])}),0)])}),0)])]),t._v(" "),n("el-col",{staticClass:"tool",attrs:{span:24}},[n("el-row",[n("el-col",{attrs:{title:"系统消息通知",span:6}},[n("el-badge",{attrs:{value:t.$store.state.friendPanelTool.systemNotifyNum}},[n("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-iconset0274"}})])])],1),t._v(" "),n("el-col",{attrs:{title:"添加好友",span:6},nativeOn:{click:function(e){return t.openAddFriendDialog(e)}}},[n("el-badge",{attrs:{value:t.$store.state.friendPanelTool.friendNotifyNum}},[n("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-add"}})])])],1),t._v(" "),n("el-col",{attrs:{title:"分享聊天室给你的好友",span:6}},[n("el-badge",{attrs:{value:t.$store.state.friendPanelTool.shareNotifyNum}},[n("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-fenxiang2"}})])])],1)],1)],1)],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"添加新分栏",visible:t.newColumnBox,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(e){t.newColumnBox=e}}},[n("el-input",{model:{value:t.newColumnName,callback:function(e){t.newColumnName=e},expression:"newColumnName"}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.newColumnBox=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.addColumn}},[t._v("确 定")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"修改分栏名称",visible:t.editColumnBox,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(e){t.editColumnBox=e}}},[n("el-input",{model:{value:t.newColumnName,callback:function(e){t.newColumnName=e},expression:"newColumnName"}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.editColumnBox=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.updateColumnInfo}},[t._v("确 定")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"好友信息",visible:t.friendInfoBox,width:"30%"},on:{"update:visible":function(e){t.friendInfoBox=e}}},[n("table",{attrs:{cellpadding:"5",cellspacing:"5"}},[n("tr",[n("td",{staticStyle:{color:"red"}},[n("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-ziyuan"}})])]),t._v(" "),n("td",[t._v(t._s(t.currentHandelUserObj.phone))])]),t._v(" "),n("tr",[n("td",{staticStyle:{color:"deepskyblue"}},[n("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-yonghuming"}})])]),t._v(" "),n("td",[t._v(t._s(t.currentHandelUserObj.name))])]),t._v(" "),n("tr",[n("td",{staticStyle:{color:"#26352a"}},[n("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-qianming"}})])]),t._v(" "),n("td",[t._v(t._s(t.currentHandelUserObj.signature))])]),t._v(" "),n("tr",[n("td",{staticStyle:{color:"#2e2cbf"}},[n("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-fenzu"}})])]),t._v(" "),n("td",[t._v(t._s(t.currentHandelColumnObj.name))])]),t._v(" "),n("tr",[n("td",{staticStyle:{color:"#1e3a34"}},[n("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-shijian"}})])]),t._v(" "),n("td",[t._v(t._s(t.currentHandelUserObj.created_at))])])])]),t._v(" "),n("el-dialog",{attrs:{title:"添加好友",visible:t.addFriend,"close-on-click-modal":!1},on:{close:function(e){return t.closeAddFriendDialog()},"update:visible":function(e){t.addFriend=e}}},[n("el-tabs",{staticStyle:{height:"390px"},attrs:{"tab-position":"left"}},[n("el-tab-pane",{attrs:{label:"查找好友"}},[t.search?n("div",{staticClass:"search-main"},[n("el-row",{staticClass:"search"},[n("el-col",{attrs:{offset:2,span:13}},[n("el-input",{attrs:{type:"number",placeholder:"对方手机号码,可模糊搜索"},model:{value:t.searchFriendPhone,callback:function(e){t.searchFriendPhone=e},expression:"searchFriendPhone"}})],1),t._v(" "),n("el-col",{attrs:{offset:1,span:8}},[n("el-button",{attrs:{type:"success"},on:{click:function(e){return t.searchPhone(1)}}},[n("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-chaxun1"}})]),t._v("\n                                查找\n                            ")])],1)],1)],1):t._e(),t._v(" "),t.searchResult?n("div",[n("div",{staticClass:"backSearch",staticStyle:{"text-align":"center"},on:{click:t.backSearch}},[n("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-jiantou"}})])]),t._v(" "),n("ul",{staticClass:"searchResult-list"},[t._l(t.searchUserResult,function(e){return n("li",[n("div",{staticClass:"fl",staticStyle:{height:"100%"}},[n("el-avatar",{class:e.fd?"fl":"fl friend-list-off-line",staticStyle:{position:"relative",top:"15%","margin-right":"20px"},attrs:{size:50,src:e.avatar}})],1),t._v(" "),n("p",{staticClass:"searchResult-p-nowrap"},[t._v(t._s(e.name))]),t._v(" "),n("p",{staticClass:"searchResult-p-nowrap"},[t._v(t._s(e.signature))]),t._v(" "),n("p",{domProps:{innerHTML:t._s(e.phone)}}),t._v(" "),n("p",[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(n){return t.openSendVerfMsgDialog(e)}}},[n("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-add"}})]),t._v("\n                                    添加好友\n                                ")])],1)])}),t._v(" "),n("div",{staticStyle:{clear:"both"}})],2)]):t._e(),t._v(" "),t.searchResult?n("div",[n("el-row",[n("el-col",{attrs:{offset:7,span:5}},[n("el-button",{attrs:{size:"mini",disabled:t.searchPhoneUp,type:"success"},on:{click:function(e){return t.searchPhone(--t.searchPhonePage)}}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-jiantou-shang"}})])])],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-button",{attrs:{size:"mini",disabled:t.searchPhoneNext,type:"success"},on:{click:function(e){return t.searchPhone(++t.searchPhonePage)}}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-jiantou-copy-copy"}})])])],1)],1)],1):t._e()]),t._v(" "),n("el-tab-pane",{attrs:{label:"添加好友消息"}},[t._l(t.friendAuthList,function(e,a){return n("el-row",{key:a},[n("div",{staticStyle:{height:"85px"}},[n("el-col",{attrs:{offset:1,span:3}},[n("el-avatar",{class:e.friend.fd?"fl":"fl friend-list-off-line",attrs:{size:50,src:e.friend.avatar}})],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("div",{staticStyle:{overflow:"hidden",width:"250px"}},[n("p",[t._v(t._s(e.friend.name))]),t._v(" "),n("p",[t._v(t._s(e.friend.phone))]),t._v(" "),n("p",[t._v(t._s(e.msg))])])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("div",{staticStyle:{"margin-top":"15px"}},[0==e.status?[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(n){return t.handelFriendAuth(e.friend_id)}}},[t._v("同意")]),t._v(" "),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(n){return t.openRefuseFriendAuthDialog(e.friend_id)}}},[t._v("拒绝")])]:1==e.status?[n("el-button",{attrs:{type:"success",disabled:!0,title:"您已同意添加他为好友",size:"mini"}},[t._v("同意\n                                    ")]),t._v(" "),n("el-button",{attrs:{type:"warning",disabled:!0,title:"您已同意添加他为好友",size:"mini"}},[t._v("拒绝\n                                    ")])]:2==e.status?[n("el-button",{attrs:{type:"success",disabled:!0,title:"您已拒绝添加他为好友",size:"mini"}},[t._v("同意\n                                    ")]),t._v(" "),n("el-button",{attrs:{type:"warning",disabled:!0,title:"您已拒绝添加他为好友",size:"mini"}},[t._v("拒绝\n                                    ")])]:t._e()],2)])],1)])}),t._v(" "),n("div",[n("el-row",[n("el-col",{attrs:{offset:7,span:5}},[n("el-button",{attrs:{size:"mini",disabled:t.friendAuthUp,type:"success"},on:{click:function(e){return t.getFriendAuth(--t.friendAuthPage)}}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-jiantou-shang"}})])])],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-button",{attrs:{size:"mini",disabled:t.friendAuthNext,type:"success"},on:{click:function(e){return t.getFriendAuth(++t.friendAuthPage)}}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-jiantou-copy-copy"}})])])],1)],1)],1)],2)],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"发送验证信息",visible:t.sendAddFriendMsgDialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.sendAddFriendMsgDialog=e}}},[n("el-row",[n("el-col",{attrs:{span:2}},[n("el-avatar",{class:t.currentHandelUserObj.fd?"fl":"fl friend-list-off-line",staticStyle:{"margin-top":"10px"},attrs:{size:50,src:t.currentHandelUserObj.avatar}}),t._v(" "),n("p",[n("b",[t._v(t._s(t.currentHandelUserObj.name))])])],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("p",[t._v("请输入验证信息:")]),t._v(" "),n("el-input",{model:{value:t.verfMSG,callback:function(e){t.verfMSG=e},expression:"verfMSG"}})],1),t._v(" "),n("el-col",{attrs:{span:4,offset:1}},[n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"success"},on:{click:function(e){return t.sendAddFriend(t.currentHandelUserObj.id)}}},[t._v("\n                    发送\n                ")])],1)],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"拒绝好友",visible:t.RefuseFriendAuthDialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.RefuseFriendAuthDialog=e}}},[n("el-row",[n("el-col",{attrs:{span:18}},[n("el-input",{attrs:{placeholder:"拒绝理由"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),t._v(" "),n("el-col",{attrs:{offset:1,span:4}},[n("el-button",{attrs:{type:"success"},on:{click:t.refuseFriendAuth}},[t._v("确定")])],1)],1)],1)],1)},[],!1,null,"10a2cb03",null).exports,u={name:"chatWindow",data:function(){return{msg:""}},updated:function(){window.document.querySelector(".talk").scrollTop=window.document.querySelector(".talk").scrollHeight},methods:{removeFriendChat:function(t){this.$store.state.talk.currentBeinTalkFriend.id==this.$store.state.talk.friendList[t].id&&(this.msg=""),this.$store.state.talk.friendList.splice(t,1)},closeBeingChatWindow:function(){var t=this;this.$store.state.talk.friendList.forEach(function(e,n){e.id!=t.$store.state.talk.currentBeinTalkFriend.id||t.removeFriendChat(n)}),this.setBeingChatFriend(this.$store.state.talk.friendList[0])},narrowBeingChatWindow:function(){this.$store.state.talk.friendList=[],this.msg=""},setBeingChatFriend:function(t){this.msg="",this.$store.commit("setCurrentBeinTalkFriend",t)},sendMsg:function(){s.a.sendMsg(this.$store.state.talk.currentBeinTalkFriend.id,this.msg),this.msg="",window.document.querySelector(".talk").scrollTop=window.document.querySelector(".talk").scrollHeight}}},f=(n(103),{name:"home",components:{panel:d,chat:Object(c.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$store.state.talk.friendList.length>0?n("div",{staticClass:"chat-window"},[n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"chat-list"},t._l(t.$store.state.talk.friendList,function(e,a){return n("el-row",{key:a,staticClass:"chat-friend-item",nativeOn:{click:function(n){return t.setBeingChatFriend(e)}}},[n("el-col",{attrs:{span:8}},[n("el-avatar",{class:e.fd?"":"friend-list-off-line",attrs:{size:50,src:e.avatar}})],1),t._v(" "),n("el-col",{staticClass:"user-name-main",attrs:{span:12}},[n("span",[t._v(t._s(e.name))])]),t._v(" "),n("el-col",{attrs:{span:2}},[n("div",{staticClass:"close-friend-chat",on:{click:function(e){return t.removeFriendChat(a)}}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-cha1"}})])])])],1)}),1)]),t._v(" "),n("el-col",{attrs:{span:18}},[n("el-row",[n("el-col",{attrs:{span:24}},[n("el-row",{staticClass:"userInfo"},[n("el-col",{attrs:{span:3}},[n("el-avatar",{class:t.$store.state.talk.currentBeinTalkFriend.fd?"":"friend-list-off-line",attrs:{size:50,src:t.$store.state.talk.currentBeinTalkFriend.avatar}})],1),t._v(" "),n("el-col",{attrs:{span:19}},[n("div",{staticClass:"userStatus"},[n("p",{staticClass:"username"},[t._v(t._s(t.$store.state.talk.currentBeinTalkFriend.name))]),t._v(" "),null==t.$store.state.talk.currentBeinTalkFriend.fd?n("p",{staticClass:"status"},[t._v("离线")]):n("p",{staticClass:"status"},[t._v("在线")])])]),t._v(" "),n("el-col",{attrs:{span:2}},[n("i",{staticClass:"el-icon-minus minus",attrs:{title:"关闭全部聊天窗口"},on:{click:t.narrowBeingChatWindow}}),t._v(" "),n("i",{staticClass:"el-icon-close close",attrs:{title:"关闭当前聊天窗口"},on:{click:t.closeBeingChatWindow}})])],1)],1),t._v(" "),n("el-col",{attrs:{span:24}},[n("div",{staticClass:"talk"},[t._l(t.$store.state.talk.currentBeingTalkRecord,function(e){return[e.user_id!=t.$store.state.user.userId?[n("div",{staticClass:"friendTalk-main"},[n("div",{staticClass:"friendTalk"},[t._v("\n                                        "+t._s(e.msg)+"\n                                    ")])])]:[n("div",{staticClass:"myTalk-main"},[n("div",{staticClass:"myTalk"},[t._v("\n                                        "+t._s(e.msg)+"\n                                    ")])])]]})],2)]),t._v(" "),n("el-col",{attrs:{span:24}},[n("div",{staticClass:"tool"},[t._v("\n                        聊天工具条(占位,暂未实现)\n                    ")])]),t._v(" "),n("el-col",{attrs:{span:24}},[n("el-row",{staticClass:"message-main"},[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"message"},[n("el-input",{staticStyle:{height:"100px"},attrs:{autosize:{minRows:4,maxRows:4},rows:4,type:"textarea"},model:{value:t.msg,callback:function(e){t.msg=e},expression:"msg"}})],1)]),t._v(" "),n("el-col",{attrs:{offset:16,span:2}},[n("el-button",{staticClass:"close-button",attrs:{size:"small"},on:{click:t.closeBeingChatWindow}},[t._v("关闭")])],1),t._v(" "),n("el-col",{attrs:{offset:1,span:2}},[n("el-button",{staticClass:"send-button",attrs:{size:"small"},on:{click:t.sendMsg}},[t._v("发送")])],1)],1)],1)],1)],1)],1)],1):t._e()},[],!1,null,"0bebef50",null).exports}}),h=(n(105),Object(c.a)(f,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("div",{staticClass:"chat-main"},[e("el-row",[e("el-col",{attrs:{span:18}},[e("chat")],1),this._v(" "),e("el-col",{attrs:{span:6}},[e("panel")],1)],1)],1)])},[],!1,null,"5919f2b7",null));e.default=h.exports},32:function(t,e,n){var a=n(102);"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(20)(a,s);a.locals&&(t.exports=a.locals)},33:function(t,e,n){var a=n(104);"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(20)(a,s);a.locals&&(t.exports=a.locals)},34:function(t,e,n){var a=n(106);"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(20)(a,s);a.locals&&(t.exports=a.locals)},7:function(t,e,n){"use strict";function a(t,e,n,a,s,i,r,o){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),a&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):s&&(l=o?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}n.d(e,"a",function(){return a})}}]);